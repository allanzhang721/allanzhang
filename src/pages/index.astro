---
import BaseLayout from "../layouts/BaseLayout.astro";
import HorizontalCard from "../components/HorizontalCard.astro";
import { getCollection } from "astro:content";
import createSlug from "../lib/createSlug";

const posts = (await getCollection("blog")).sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);
const last_posts = posts.slice(0, 3);
---

<BaseLayout sideBarActiveItemID="home">
  <!-- Hero Section with Background Image + Overlay -->
  <div class="relative bg-cover bg-center bg-no-repeat min-h-[500px]" style="background-image: url('/image.png')">
    <!-- Black semi-transparent overlay -->
    <div class="absolute inset-0 bg-black/40"></div>

    <!-- Foreground content -->
    <div class="relative z-10 bg-white/80 backdrop-blur-sm p-8 rounded-xl max-w-5xl mx-auto mt-10">
      <div class="text-xl py-1">Hey there 👋</div>
      <div class="text-5xl font-bold">I'm Yaoyu (Allan) Zhang</div>
      <div class="text-3xl py-3 font-bold">PhD Student & ML Engineer</div>
      <div class="py-2">
        <text class="text-lg">
          I am a third-year Ph.D. student in the Department of Mechanical and Industrial Engineering at the University of Toronto. 
          My research focuses on robust time series analysis and classification under distributional shift, with a particular emphasis 
          on online learning and test-time training. I am especially interested in real-world applications such as financial time series 
          forecasting and anomaly detection.
          <br /><br />
          Outside of research, I love playing badminton 🏸 — it's my favorite way to relax and stay active.
        </text>
      </div>
    </div>
  </div>

  <!-- Current Projects Section -->
  <div class="mt-12">
    <div class="text-3xl w-full font-bold mb-2">Current Projects</div>
  </div>

  <HorizontalCard
    title="Robust Test-Time Adaptation under Distributional Shift"
    img="/ttt.webp"
    desc="We address the limitations of standard test-time adaptation methods, such as Tent, in scenarios where we do not have labels during testing. Our approach mitigates compounding errors and early misprediction reinforcement in pseudo-labeling by stabilizing the adaptation process under weak initial representations and distributional shifts."
    url="#"
    badge="Research"
  />

  <div class="divider my-0"></div>

  <HorizontalCard
    title="Graph Attention Network Under Mixed Distributional Shift"
    img="/graphattention.webp"
    desc="We aim to address the problem of multimodal or mixed distributional shift for time series classification through some graph attention network. We also try to address the stability and plasticity tradeoff while keeping the long-term dependencies."
    url="#"
    badge="Research"
  />
</BaseLayout>
